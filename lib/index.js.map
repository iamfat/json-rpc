{"version":3,"file":"index.js","sources":["../src/index.ts"],"sourcesContent":[null],"names":["RPCError","Error","[object Object]","message","code","super","this","RPC","send","timeout","Map","_timeout","on","hash","params","_hashedFunctions","has","f","get","Promise","resolve","delete","remoteId","path","value","obj","_remoteObjects","props","split","lastProp","pop","o","p","Reflect","set","e","console","debug","JSON","parse","stringify","passToRemote","slice","ret","apply","makeRemoteObject","_remoteObjectClusters","map","key","self","_decode","param","Object","Proxy","target","prop","sProp","String","notify","_","__","k","hasOwnProperty","Array","isArray","_encode","hash_sum","@func","uniqid","non_secure_1","rootId","cluster","push","@remote","rpc","extendedRPCs","method","matches","_callings","pattern","callback","_patterns","match","request","sendError","jsonrpc","remote","getHandler","undefined","length","id","decodeFunctions","result","sendResult","_promises","promise","reject","error","clearTimeout","RemoteObjectHandler","propName","$$baseName","call","$$cache","assign","release$","keys","forEach","get$","data","encodeFunctions","setTimeout","cb","str","toString","filter","exports"],"mappings":"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"}